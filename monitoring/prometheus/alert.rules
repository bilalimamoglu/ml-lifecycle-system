# monitoring/prometheus/alert.rules

groups:
  - name: MLModelAlerts
    rules:
      - alert: ModelStaleness
        expr: time() - model_last_updated > 129600  # 36 hours in seconds
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Model not updated in over 36 hours"
          description: "The latest model was generated more than 36 hours ago."

      - alert: LowModelAccuracy
        expr: model_accuracy < 0.8
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "Model accuracy below threshold"
          description: "Model accuracy is below the acceptable threshold of 80%."

      - alert: LowTrainingAccuracy
        expr: training_accuracy_score < 0.8
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "Training accuracy below threshold"
          description: "Training accuracy is below the acceptable threshold of 80%."
